<div class="d-none d-print-block report-header-print">
    <div class="report-info-left">
        <h2>Tablón de Notas</h2>
        <p>Hotel Garoé • Recepción</p>
    </div>
    <div class="report-info-right">
        <div><strong>Fecha:</strong> <span id="print-date-notas"></span></div>
        <div class="text-muted" style="font-size: 7pt; margin-top: 5px;">Documento Interno de Uso Operativo</div>
    </div>
</div>

<div class="d-flex flex-wrap justify-content-between align-items-center mb-4 pt-3 px-3 gap-3 no-print">
    <div class="d-flex align-items-center gap-3">
        <h4 class="fw-bold text-secondary mb-0"><i class="bi bi-journal-bookmark-fill me-2"></i>Tablón de Notas</h4>
        <button class="btn btn-outline-secondary btn-sm border-0" onclick="toggleEdicionNotas()" id="btn-lock-notas"
            title="Habilitar/Deshabilitar edición (eliminar notas)" data-bs-toggle="tooltip">
            <i class="bi bi-lock-fill" id="icon-lock-notas"></i> <span id="text-lock-notas"
                class="d-none d-md-inline">Bloqueado</span>
        </button>
    </div>

    <div class="flex-grow-1 mx-md-4" style="max-width: 400px;">
        <div class="input-group shadow-sm">
            <span class="input-group-text bg-white border-end-0"><i class="bi bi-search text-muted"></i></span>
            <input type="text" id="searchNotas" class="form-control border-start-0 ps-0"
                placeholder="Buscar en notas..." data-bs-toggle="tooltip" data-bs-title="Filtrar notas...">
        </div>
    </div>

    <button class="btn btn-primary shadow-sm d-none" id="btn-nueva-nota" onclick="abrirModalNota()"
            data-bs-toggle="tooltip" data-bs-title="Crear un nuevo Post-it">
        <i class="bi bi-plus-lg me-2"></i>Nueva Nota
    </button>
</div>

<div class="row g-4 px-3 pb-4" id="grid-notas">
    <!-- Aquí se renderizan los post-its -->
</div>

<!-- Modal para Crear/Editar Nota -->
<div class="modal fade" id="modalNota" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content border-0 shadow-lg">
            <div class="modal-header border-0 pb-0">
                <h5 class="modal-title fw-bold" id="modalNotaTitle">Nueva Nota</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="formNota">
                    <div class="mb-3">
                        <label class="form-label small fw-bold text-muted">Color del Post-it</label>
                        <div class="d-flex gap-2 justify-content-center p-2 bg-light rounded">
                            <input type="radio" class="btn-check" name="colorNota" id="color-yellow" value="note-yellow"
                                checked>
                            <label class="btn rounded-circle border-2 d-flex align-items-center justify-content-center"
                                for="color-yellow"
                                style="width: 40px; height: 40px; background-color: #fff740; border-color: transparent;"><i
                                    class="bi bi-check-lg d-none text-dark"></i></label>

                            <input type="radio" class="btn-check" name="colorNota" id="color-pink" value="note-pink">
                            <label class="btn rounded-circle border-2 d-flex align-items-center justify-content-center"
                                for="color-pink"
                                style="width: 40px; height: 40px; background-color: #ff7eb9; border-color: transparent;"><i
                                    class="bi bi-check-lg d-none text-dark"></i></label>

                            <input type="radio" class="btn-check" name="colorNota" id="color-blue" value="note-blue">
                            <label class="btn rounded-circle border-2 d-flex align-items-center justify-content-center"
                                for="color-blue"
                                style="width: 40px; height: 40px; background-color: #7afcff; border-color: transparent;"><i
                                    class="bi bi-check-lg d-none text-dark"></i></label>

                            <input type="radio" class="btn-check" name="colorNota" id="color-green" value="note-green">
                            <label class="btn rounded-circle border-2 d-flex align-items-center justify-content-center"
                                for="color-green"
                                style="width: 40px; height: 40px; background-color: #c7f464; border-color: transparent;"><i
                                    class="bi bi-check-lg d-none text-dark"></i></label>

                            <input type="radio" class="btn-check" name="colorNota" id="color-orange"
                                value="note-orange">
                            <label class="btn rounded-circle border-2 d-flex align-items-center justify-content-center"
                                for="color-orange"
                                style="width: 40px; height: 40px; background-color: #ffb347; border-color: transparent;"><i
                                    class="bi bi-check-lg d-none text-dark"></i></label>
                        </div>
                        <style>
                            .btn-check:checked+label {
                                border-color: #666 !important;
                                transform: scale(1.1);
                            }

                            .btn-check:checked+label i {
                                display: block !important;
                            }
                        </style>
                    </div>
                    <div class="mb-3">
                        <label for="notaTitulo" class="form-label small fw-bold text-muted">Título</label>
                        <input type="text" class="form-control fw-bold" id="notaTitulo"
                            placeholder="Ej: Contraseñas Wifi...">
                    </div>
                    <div class="mb-3">
                        <label for="notaContenido" class="form-label small fw-bold text-muted">Contenido</label>
                        <textarea class="form-control" id="notaContenido" rows="5"
                            placeholder="Ej: La contraseña es 1234..."></textarea>
                    </div>
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary fw-bold">Guardar Nota</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>